<tool id="nxtrim" name="nxtrim" version="0.1.0">
	<description>Software to remove Nextera Mate Pair adapters and categorise reads according to the orientation implied by the adapter location</description>
	<stdio>
		<exit_code range="1:" />
	</stdio>
	<command><![CDATA[
		$__tool_directory__/nxtrim
                        -1 $ff
                        -2 $fr
                        $jr
                        $norc
                        $pmp
                        $ipf
                        $sep
                        -s $similarity
                        -v $minoverlap
                        -l $minlength
                        -O $output
	]]></command>
	<inputs>
		<param type="data" name="ff" format="fastq" label="Read 1 in fastq format (gzip allowed)" />
		<param type="data" name="fr" format="fastq" label="Read 2 in fastq format (gzip allowed)" />
		<param name="jr" type="boolean" truevalue="--joinreads" falsevalue="" label="Try to merge overhands from R2 with R1" />
		<param name="norc" type="boolean" truevalue="--norc" falsevalue="" label="Do NOT reverse-complement mate-pair reads (use this if your reads are already in FR orientation)" />
		<param name="pmp" type="boolean" truevalue="--preserve-mp" falsevalue="" label="Preserve MPs even when the corresponding PE has longer reads" />
		<param name="ipf" type="boolean" truevalue="--ignorePF" falsevalue="" label="Ignore chastity/purity filters in read headers" />
		<param name="sep" type="boolean" truevalue="--separate" falsevalue="" label="Output paired reads in separate files (prefix_R1/prefix_R2). Default is interleaved." />
		<param name="similarity" type="float" label="The minimum similarity between strings to be considered a match" value=".85" />
		<param name="minoverlap" type="integer" label="The minimum overlap to be considered for matching" value="12" />
		<param name="minlength" type="integer" label="The minimum read length to output (smaller reads will be filtered)" value="21" />
	</inputs>
	<outputs>
		<!--
		<data format="fastq" name="output">
			<discover_datasets pattern="(?P&lt;designation&gt;.+)\.fastq\.gz" ext="fastq" visible="true" />
		</data>
		-->
		<collection name="splitted_fasta" type="list" label="Sequence collection in FASTA format">
            		<discover_datasets pattern="(?P&lt;designation&gt;.*)" directory="split" ext="fastq" visible="true"/>
        	</collection>
	</outputs>

	<help>
<![CDATA[

**What it does**

nxtrim is a software tool to that removes Nextera Mate Pair adapters and categorises reads according to the orientation implied by the adapter location.

**Input**

Input data is two fastq (or .gz) files.

]]>
	</help>
</tool>
